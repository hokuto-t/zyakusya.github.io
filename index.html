<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>弱者男性判別プログラム</title>
</head>
<body>
    <h2>弱者男性かどうかを判別するプログラム</h2>

    <form id="judgmentForm">
        <label>身長:</label>
        <input type="number" id="tall" required> cm<br><br>

        <label>体重:</label>
        <input type="number" id="weight" required> kg<br><br>

        <label>友達の人数（10人以上は10と入力）:</label>
        <input type="number" id="friends" required> 人<br><br>

        <label>元カノの人数（3人以上は3と入力）:</label>
        <input type="number" id="woman" required> 人<br><br>

        <label>自己評価(10点満点):</label>
        <input type="number" id="own_score" required> 点<br><br>

        <label>趣味にアニメ、漫画、ゲーム、収集が一つでも当てはまる:</label>
        <select id="hobby" required>
            <option value="yes">はい</option>
            <option value="no">いいえ</option>
        </select><br><br>

        <button type="button" onclick="determineResult()">判定する</button>
    </form>

    <h3>判別結果:</h3>
    <p id="result">ここに結果が表示されます。</p>

    <script>
        function determineResult() {
            const tall = parseFloat(document.getElementById("tall").value) / 100; // m単位に変換
            const weight = parseFloat(document.getElementById("weight").value);
            const friends = parseInt(document.getElementById("friends").value);
            const woman = parseInt(document.getElementById("woman").value);
            const own_score = parseInt(document.getElementById("own_score").value);
            const hobby = document.getElementById("hobby").value;

            // 入力が不足している場合のチェック
            if (isNaN(tall) || isNaN(weight) || isNaN(friends) || isNaN(woman) || isNaN(own_score)) {
                document.getElementById("result").innerText = "すべての項目に入力してください。";
                return;
            }

            // BMI計算
            const bmi = weight / (tall ** 2);
            let bmiScore = Math.abs(22 - bmi) * 4;

            // コミュニティスコア
            let communityScore = friends * 3 + woman * 30;

            // 趣味スコア
            let hobbyScore = hobby === 'yes' ? 30 : 0;

            // 総合スコア
            let totalScore = 100 - bmiScore + communityScore - hobbyScore;

            // 判定結果の生成
            let resultMessage;
            if (totalScore < 100) {
                resultMessage = `判定結果: 弱者男性と見なされる可能性があります。(基準100点) (スコア: ${totalScore.toFixed(2)})`;
            } else {
                resultMessage = `判定結果: 弱者男性とは見なされない可能性が高いです。（基準100点） (スコア: ${totalScore.toFixed(2)})`;
            }

            // 結果の表示
            document.getElementById("result").innerText = resultMessage;
        }
    </script>
</body>
</html>
